{
  "title": "Ergo Wallet Setup and Security",
  "source_url": "docs/node/wallet-setup.md",
  "summary": "---\ntags:\n  - Wallet\n  - Setup\n  - Security\n  - Node\n  - API\n  - BIP32\n  - BIP39\n---\n\n# Ergo Wallet Setup and Security\n\nThe Ergo node includes a built-in wallet function to securely store your private keys and sign transactions. This section provides instructions on setting up and protecting your Ergo node wallet. The wallet utilizes the BIP-39 standard to generate a master seed from a mnemonic sentence (seed phrase). This seed is then used to derive private keys according to the BIP-32 standard for Hierarchical Deterministic (HD) Wallets. While you *can* compose your own mnemonic sentence using words from the provided [wordlists](https://github.com/ergoplatform/ergo-wallet/tree/master/src/main/resources/wordlist), it is strongly recommended for security to use a mnemonic generated by a trusted source (like the node itself or a secure hardware wallet).",
  "keywords": [
    "wallet",
    "setup",
    "security",
    "node",
    "bip32",
    "bip39",
    "ergo",
    "transaction",
    "section",
    "instruction",
    "bip-39",
    "standard",
    "master",
    "seed",
    "sentence",
    "phrase",
    "bip-32",
    "hierarchical",
    "deterministic",
    "wallets",
    "word",
    "wordlists](https://github.com",
    "ergoplatform",
    "tree",
    "resource",
    "wordlist",
    "mnemonic",
    "source",
    "hardware",
    "length",
    "level",
    "entropy",
    "restore",
    "endpoint",
    "interaction",
    "rest",
    "proceeding",
    "setting",
    "configuration",
    "file",
    "call",
    "parameter",
    "value",
    "result",
    "option",
    "default",
    "secretstorage.secretdir",
    "directory",
    "mnemonicphraselanguage",
    "language",
    "first",
    "time",
    "method",
    "post",
    "/wallet",
    "request",
    "body",
    "your_wallet_password",
    "mnemonicpass",
    "optional_passphrase",
    "action",
    "response",
    "passphrase",
    "layer",
    "derivation",
    "existing",
    "word2",
    "word3",
    "state",
    "initialization",
    "restoration",
    "restart",
    "unlock",
    "password",
    "operation",
    "miner",
    "signing",
    "tracking",
    "period",
    "inactivity",
    "shutdown",
    "secret",
    "memory",
    "lock",
    "manage",
    "keys",
    "creation",
    "address",
    "path",
    "eip-3",
    "m/44'/429'/0'/0/0",
    "derivekey",
    "derivationpath",
    "sequence",
    "counter",
    "derivenextkey",
    "swagger"
  ],
  "sections": [
    {
      "heading": "Ergo Wallet Setup and Security",
      "content": "The Ergo node includes a built-in wallet function to securely store your private keys and sign transactions. This section provides instructions on setting up and protecting your Ergo node wallet.\nThe wallet utilizes the BIP-39 standard to generate a master seed from a mnemonic sentence (seed phrase). This seed is then used to derive private keys according to the BIP-32 standard for Hierarchical Deterministic (HD) Wallets. While you can compose your own mnemonic sentence using words from the provided wordlists, it is strongly recommended for security to use a mnemonic generated by a trusted source (like the node itself or a secure hardware wallet).\nThe length of the mnemonic sentence determines the security level (entropy): 12, 15, 18, 21, or 24 words correspond to 128, 160, 192, 224, or 256 bits of security, respectively. To restore a wallet from an existing mnemonic, use the /wallet/restore API endpoint.\nAll wallet interactions with the node are performed through its REST API. Before proceeding, ensure you have set an API key hash in your node's configuration file to protect sensitive API calls."
    },
    {
      "heading": "Configuring the Wallet",
      "content": "Wallet-related settings are managed in the ergo.wallet section of the node configuration file. Key parameters include:\nseedStrengthBits: Specifies the bit-length (entropy) for newly generated seeds. A higher value results in a longer, more secure mnemonic phrase. Options: 128, 160, 192, 224, 256. Default is usually 128.\nsecretStorage.secretDir: Defines the directory where the encrypted wallet file (wallet.dat) will be stored.\nmnemonicPhraseLanguage: Sets the language for generating or restoring mnemonic phrases. Options: \"chinese_simplified\", \"chinese_traditional\", \"english\", \"french\", \"italian\", \"japanese\", \"korean\", \"spanish\". Default is \"english\"."
    },
    {
      "heading": "Initializing the Wallet for the First Time",
      "content": "When running a node for the first time, you initialize its wallet via the REST API using one of two methods:\nInitialize a New Wallet: The node generates a new seed phrase for you.\nEndpoint: POST /wallet/init\nRequest Body: {\"pass\": \"YOUR_WALLET_PASSWORD\", \"mnemonicPass\": \"OPTIONAL_PASSPHRASE\"}\n\nAction: Creates a new wallet file encrypted with YOUR_WALLET_PASSWORD. The response will contain the newly generated mnemonic phrase \u2013 save this phrase securely and offline immediately! The mnemonicPass (BIP-39 passphrase) is optional and adds an extra layer of security to the seed derivation. If used, it must be provided every time the seed is restored.\n\n\nRestore from Existing Mnemonic: Use a previously generated mnemonic phrase.\n\nEndpoint: POST /wallet/restore\nRequest Body: {\"pass\": \"YOUR_WALLET_PASSWORD\", \"mnemonic\": \"word1 word2 word3 ...\", \"mnemonicPass\": \"OPTIONAL_PASSPHRASE\"}\nAction: Recreates the wallet state from the provided mnemonic. Use the same mnemonicPass that was used when the mnemonic was originally generated or used, if any."
    },
    {
      "heading": "Unlocking the Wallet",
      "content": "After initialization or restoration, and after every node restart, the wallet must be unlocked before use. To unlock it, make a POST request to /wallet/unlock with your wallet password: {\"pass\": \"YOUR_WALLET_PASSWORD\"}.\nThe wallet must be unlocked to perform operations such as:\nUsing the internal miner.\nSigning transactions.\nTracking boxes."
    },
    {
      "heading": "Locking the Wallet",
      "content": "The wallet typically locks automatically after a period of inactivity or upon node shutdown, flushing secrets from memory. You can also lock it manually by making a GET request to /wallet/lock. Locking the wallet when not actively using it is recommended for security. You will need to unlock it again before performing further operations."
    },
    {
      "heading": "Managing Keys",
      "content": "The wallet implements BIP-32, enabling the creation of hierarchical deterministic wallets. During initialization, the master key is derived from the seed. To derive additional keys (and their corresponding addresses) based on specific derivation paths (e.g., following EIP-3 standard paths like m/44'/429'/0'/0/0), use the POST /wallet/deriveKey endpoint with the desired path in the request body: {\"derivationPath\": \"m/44'/429'/0'/0/0\"}.\nAlternatively, you can derive the next available key in the sequence according to the wallet's internal counter using the GET /wallet/deriveNextKey endpoint.\nNote: All these wallet operations are performed via the Ergo node's REST API, typically accessed through the Swagger UI or programmatically."
    }
  ],
  "qa_pairs": []
}