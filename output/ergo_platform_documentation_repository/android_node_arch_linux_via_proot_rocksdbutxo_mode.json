{
  "title": "Android Node: Arch Linux via proot (RocksDB/UTXO Mode)",
  "source_url": "docs/node/install/node-android/proot-rocksdb.md",
  "summary": "---\ntags:\n  - Android\n  - Node\n  - Mobile\n  - Termux\n  - Installation\n  - Guide\n  - RocksDB\n  - UTXO Mode\n  - proot\n  - Arch Linux\n  - glibc\n---\n\n# Android Node: Arch Linux via proot (RocksDB/UTXO Mode) This guide details the more advanced method for running an Ergo node on Android using an Arch Linux environment within Termux via `proot`. This method is necessary if you need to run the node with `stateType=\"utxo\"` (which uses RocksDB for state storage) or if you encounter database issues (e.g., LevelDB failures) with the direct Termux setup. **Why is this needed?",
  "keywords": [
    "android",
    "node",
    "termux",
    "installation",
    "guide",
    "rocksdb",
    "utxo",
    "mode",
    "proot",
    "arch",
    "linux",
    "glibc",
    "method",
    "ergo",
    "environment",
    "statetype=\"utxo",
    "state",
    "storage",
    "database",
    "issue",
    "leveldb",
    "failure",
    "setup",
    "engine",
    "default",
    "option",
    "blockchain",
    "java",
    "binding",
    "library",
    "musl",
    "libc",
    "bionic",
    "incompatibility",
    "error",
    "distro",
    "distribution",
    "disclaimer",
    "method](termux",
    "digest.md",
    "case",
    "user",
    "prerequisites",
    "device",
    "requirements](node",
    "android.md#device",
    "requirement",
    "note",
    "digest",
    "droid",
    "step",
    "bash",
    "update",
    "upgrade",
    "install",
    "archlinux",
    "root",
    "filesystem",
    "time",
    "login",
    "prompt",
    "dependency",
    "first",
    "package",
    "list",
    "pacman",
    "openjdk",
    "wget",
    "nano",
    "--noconfirm",
    "download",
    "variant",
    "support",
    ".jar",
    "file",
    "ergo-<version>-rocksdb.jar",
    "releases](https://github.com",
    "ergoplatform",
    "release",
    "page",
    "example",
    "vx.y.z",
    "x.y.z",
    "rocksdb.jar",
    "echo",
    "--show",
    "progress",
    "ergo-rocksdb.jar",
    "configuration",
    "ergo.conf",
    "pruning",
    "blockstokeep",
    "capacity",
    "statetype",
    "week",
    "block",
    "warning",
    "archival",
    "mining",
    "nipopow.nipopowbootstrap",
    "scorex",
    "restapi",
    "apikeyhash",
    "324dcf027dd4a30a932c441f365a25e86b173defa4b8e58948253471b81b72cf",
    "network",
    "optional",
    "peer",
    "knownpeer",
    "port",
    "save",
    "exit",
    "ctrl+x",
    "memory",
    "-jar",
    "monitor",
    "synchronization",
    "browser",
    "http://127.0.0.1:9053",
    "panel",
    "snapshot",
    "exiting",
    "press",
    "ctrl",
    "terminal",
    "shell",
    "type",
    "guide](node",
    "disk",
    "space",
    "clarification",
    "troubleshooting",
    "complexity",
    "resource",
    "approach"
  ],
  "sections": [
    {
      "heading": "Android Node: Arch Linux via proot (RocksDB/UTXO Mode)",
      "content": "This guide details the more advanced method for running an Ergo node on Android using an Arch Linux environment within Termux via proot. This method is necessary if you need to run the node with stateType=\"utxo\" (which uses RocksDB for state storage) or if you encounter database issues (e.g., LevelDB failures) with the direct Termux setup.\nWhy is this needed?\nThe Ergo node uses database engines (LevelDB by default, RocksDB as an option, especially for stateType=\"utxo\") to store blockchain state.\nThe Java bindings for RocksDB often rely on the standard GNU C Library (glibc).\nAndroid/Termux typically use a different C library (musl libc via Bionic).\nRunning the RocksDB-enabled node JAR directly in Termux can lead to incompatibility errors.\nproot-distro allows running a Linux distribution (like Arch Linux, which uses glibc) within Termux, providing the necessary environment for RocksDB.\nDisclaimer: This is a more complex setup than the direct Termux method and adds overhead. It's primarily required for specific use cases needing RocksDB/UTXO mode. For most mobile users, the direct Termux setup with stateType=\"digest\" is recommended.\nPrerequisites:\nAndroid device meeting the requirements (Note: UTXO mode requires significantly more storage than digest mode).\nTermux installed from F-Droid.\nSteps:\nInstall proot-distro in Termux:\nOpen Termux and run:\n    bash\n    pkg update && pkg upgrade -y\n    pkg install proot-distro -y\n\n\nInstall Arch Linux via proot-distro:\nbash\n    proot-distro install archlinux\nThis will download the Arch Linux root filesystem.\n\n\nLogin to Arch Linux Environment:\nEach time you want to run the node using this method, you first need to log into the Arch environment:\n    bash\n    proot-distro login archlinux\nYour terminal prompt should change, indicating you are now inside Arch Linux within Termux.\n\n\nInside Arch Linux: Install Dependencies (First Time Only):\nUpdate package lists:\n    bash\n    pacman -Syu --noconfirm\nInstall Java (OpenJDK 17 recommended),..."
    }
  ],
  "qa_pairs": []
}