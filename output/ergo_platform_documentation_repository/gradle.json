{
  "title": "Gradle",
  "source_url": "docs/dev/stack/appkit/gradle.md",
  "summary": "---\ntags:\n  - Java\n---\n\n# Gradle \n\n\nGradle is a build tool used for many JVM languages and frameworks. You can use it to set up and build Java and Kotlin projects, both client-side (for desktop or Android) or server-side applications (for example Spring). ## Setting up the Gradle project\n\nThe first step is setting up a plain Gradle project. How exactly this is done depends on the platform or framework you want to base on. * Android: Install Android Studio and create a new project with your preferred language\n*",
  "keywords": [
    "java",
    "gradle",
    "build",
    "tool",
    "language",
    "framework",
    "kotlin",
    "project",
    "client",
    "side",
    "desktop",
    "android",
    "server",
    "application",
    "example",
    "spring",
    "step",
    "platform",
    "install",
    "studio",
    "initializr](https://start.spring.io/",
    "choice",
    "setup",
    "starter",
    "guide",
    "file",
    "parameter",
    "library",
    "dependency",
    "block",
    "root",
    "level",
    "appkit",
    "buildscript",
    "line",
    "implementation",
    "org.ergoplatform",
    "ergo",
    "appkit_2.11:4.0.6",
    "classpath",
    "thing",
    "version",
    "core",
    "desugaring",
    "option",
    "here](https://developer.android.com",
    "write",
    "java8",
    "support#library",
    "group",
    "org.bouncycastle",
    "module",
    "bcprov",
    "jdk15on",
    "kiama_2.11",
    "kiama",
    "jre7",
    "compatibility",
    "com.github",
    "mrstahlfelge.kiama",
    "core_2.11:2.1.1",
    "library_2.11:2.1.1",
    "jdk15to18:1.66",
    "method",
    "task",
    "fetch",
    "datum",
    "explorer",
    "interact",
    "node",
    "transaction",
    "helper",
    "cryptographic",
    "address",
    "secret",
    "plan",
    "topic",
    "explorer](https://explorer.ergoplatform.com",
    "ship",
    "class",
    "retrofit](https://square.github.io",
    "code",
    "retrofit",
    "builder",
    ".addconverterfactory(gsonconverterfactory.create",
    "ergoapiservice",
    "documentation",
    "service",
    "information",
    "need",
    "blockchain",
    "part",
    "network",
    "public",
    "owner",
    "blockchaincontext",
    "ergoclient",
    "restapiergoclient.create",
    "nodeapiaddress",
    "networktype",
    "mainnet",
    "restapiergoclient.defaultmainnetexplorerurl",
    "ergoclient.execute",
    "context",
    "peer",
    "configuration",
    "ergoplatform",
    "blob",
    "e68ce6180b13bffb024cf9e26c7c16a7be70a22c",
    "resource",
    "port",
    "contract",
    "developer",
    "life",
    "wheel",
    "mnemonic",
    "ergotree",
    "inline",
    "boxoperation",
    "concept",
    "wallet](https://github.com",
    "mrstahlfelge",
    "wallet",
    "blob/0e4e10d5ad18453ca43948514d73255c567fefd1",
    "ergofacade.kt#l86",
    "amount",
    "time",
    "ergoscript",
    "example](https://github.com",
    "repository",
    "token",
    "blob/50596a92a465f52904b5d8015e8ae0d62e414176",
    "scala-2.12",
    "command",
    "issuetokencmd.scala",
    "ergopay",
    "master",
    "ergopaysamplecontroller.java"
  ],
  "sections": [
    {
      "heading": "Gradle",
      "content": "Gradle is a build tool used for many JVM languages and frameworks. You can use it to set up and build Java and Kotlin projects, both client-side (for desktop or Android) or server-side applications (for example Spring)."
    },
    {
      "heading": "Setting up the Gradle project",
      "content": "The first step is setting up a plain Gradle project. How exactly this is done depends on the platform or framework you want to base on.\nAndroid: Install Android Studio and create a new project with your preferred language\nSpring: Use the Spring Initializr to create a new project with your preferred language, don't forget to select Gradle. Open the project in the IDE of your choice\nFor other frameworks, refer to their setup or starter guide\nWhen that is done, you will find one or more build.gradle files that define parameters of your project, most important the libraries your project depends on. Search for a dependencies block (for Android, it is in app/build.gradle, for Spring in the root-level file). You need to add appkit here. Don't get confused with the dependencies block inside buildscripts, that's not for the project dependencies, but for dependencies Gradle needs to build the project.\nFor desktop and server-side applications, it is just one line to add.\nimplementation ('org.ergoplatform:ergo-appkit_2.11:4.0.6')\nWhen you resync your project now, Gradle fetches Appkit and all needed libraries and add them to your classpath.\nThings are a bit more complicated when targeting Android. Some older Android versions run an older version of Java, and while Appkit itself is compatible, some of the libraries it uses are not. So you need some more steps to do:\nMake sure core library desugaring is enabled by checking if the app's build.gradle file contains the needed dependency and option as described here\nAdditionally, you have to tell gradle to exclude the libraries that are not compatible with Android, but to use compatible versions instead. That is done by changing the line above like this:\nimplementation ('org.ergoplatform:ergo-appkit_2.11:4.0.6') {\n    exclude group: 'org.bouncycastle', module: 'bcprov-jdk15on'\n    exclude group: 'org.bitbucket.inkytonik.kiama', module: 'kiama_2.11'\n}\n// kiama needs an own build for JRE7 compatibility\nimplementation \"com.github.MrStah..."
    },
    {
      "heading": "What to start with",
      "content": "Now you have Appkit enabled in your project, but what can you do now? Appkit provides methods for the following tasks:\nFetch data from Ergo Explorer API\nInteract with Ergo Node, both public and private methods\nBuild transactions and sign them\nHelper methods to handle cryptographics like calculating PK addresses from secrets\nSo it is up to your plans what you will use! That's why here is just a brief starter on these topics"
    },
    {
      "heading": "Ergo Explorer API",
      "content": "All data available on the Ergo Explorer is available through an API as well. Appkit ships with classes defining this API to use with Retrofit. Get started with the following Kotlin code:\nval retrofit = Retrofit.Builder()\n            .baseUrl(RestApiErgoClient.defaultMainnetExplorerUrl)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n\nval ergoApiService = retrofit.create(DefaultApi::class.java)\nYou can call Explorer API methods on the ergoApiService now. Check out Retrofit's documentation on how to interact with it."
    },
    {
      "heading": "Interact with Ergo node, build transactions and sign them",
      "content": "While Ergo Explorer is a central service to request information without the need to have the full blockchain, an Ergo node is part of the decentralized blockchain network. The node offers methods to the public, for example submitting a new transaction, while there are also private methods for its owner only to be used with an API key. These methods can be accessed through a BlockchainContext that you can obtain with the following code:\nval ergoClient = RestApiErgoClient.create(\n        nodeApiAddress,\n        NetworkType.MAINNET,\n        \"\", // for private methods, give API key here\n        RestApiErgoClient.defaultMainnetExplorerUrl\n    )\n    ergoClient.execute { ctx: BlockchainContext ->\n        // do something here with the blockchain context\n    }\nHow to obtain the node address? A few known peers are listed on the node configuration file. Make sure to use the correct port to connect to the node API, it is 9053 for Mainnet (e.g. http://213.239.193.208:9053/).\nOf course, the most interesting part here is to sign and send transactions with smart contracts. See below for examples."
    },
    {
      "heading": "Helper methods",
      "content": "Appkit provides a lot of helper methods to ease a developer's life and not reinvent the wheel that already is in use. For example, you can construct an Ergo address from a mnemonic, or an ErgoTree from an address. Check out the following classes and their inline documentation: Address, BoxOperations, ErgoProverBuilder, Mnemonic, Parameters"
    },
    {
      "heading": "Examples",
      "content": "These examples will help you get started and understand the concepts better.\nFor sending ERG, check out the code used in the Android wallet.\nAn example for a very simple smart contract freezing an amount of ERG to not to be spent before some time expired can be found on Appkit's main readme.\nThe ergoscript by example repository contains two additional smart contract examples (not using Appkit).\nHow you can mint new tokens can be seen in ergo-dex repo.\nErgoPay Server example builds transactions for minting and burning token and spending a specific box."
    }
  ],
  "qa_pairs": []
}