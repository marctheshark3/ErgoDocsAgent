{
  "title": "ErgoTree: Reference Manual",
  "source_url": "docs/dev/scs/ergotree.md",
  "summary": "---\ntags:\n  - ErgoTree\n  - Reference Manual\n---\n\n# ErgoTree: Reference Manual\n\nErgoTree forms the backbone of Ergo's [smart contracts](contracts.md). It is the typed abstract syntax of the ErgoTree language used for defining logical propositions that protect [boxes](box.md) (coin abstractions) in Ergo. While ErgoTree is fundamental, most users interact with it indirectly, primarily developing contracts using a higher-level language called [ErgoScript](ergoscript.md), which later compiles into ErgoTree. ## Understanding ErgoTree\n\nErgoTree serves as a specialized language, encapsulating the [*universal language*](https://www.martinfowler.com/bliki/UbiquitousLanguage.html) of the [Ergo blockchain](protocol-overview.md). It directly interacts with key components such as [Boxes](box.md),",
  "keywords": [
    "ergotree",
    "reference",
    "manual",
    "backbone",
    "ergo",
    "contracts](contracts.md",
    "syntax",
    "language",
    "proposition",
    "boxes](box.md",
    "coin",
    "abstraction",
    "user",
    "contract",
    "level",
    "ergoscript](ergoscript.md",
    "language*](https://www.martinfowler.com",
    "bliki",
    "ubiquitouslanguage.html",
    "blockchain](protocol",
    "component",
    "tokens](eip4.md",
    "zero",
    "knowledge",
    "sigma",
    "propositions](sigma.md",
    "storage",
    "execution",
    "blockchain",
    "spam",
    "resistance",
    "platform",
    "money](on",
    "money.md",
    "requirement",
    "tool",
    "securing",
    "manage",
    "frontend",
    "inspiration",
    "scala",
    "kotlin",
    "ergoscript",
    "subset",
    "java",
    "programmer",
    "spectrum",
    "approach",
    "structure",
    "authentication",
    "application",
    "stack",
    "assembly",
    "tree",
    "regard",
    "kind",
    "signature",
    "transaction",
    "action",
    "condition",
    "secret",
    "data",
    "predicates",
    "information",
    "signatures](signing.md",
    "keys](wallets.md",
    "context](blockchain",
    "context.md",
    "predicate",
    "transactions](transactions.md",
    "legitimacy",
    "adherence",
    "rule",
    "ability",
    "context",
    "applicability",
    "central",
    "bank",
    "digital",
    "currencies",
    "cbdcs)](cbdc.md",
    "object",
    "access",
    "chain",
    "validation",
    "fleet",
    "recipes](fleet",
    "recipes.md",
    "example",
    "javascript",
    "typescript",
    "party",
    "authorization",
    "expression",
    "conditions",
    "signer",
    "identity",
    "concepts",
    "utxo",
    "verifier](validation.md",
    "serialization",
    "docs",
    "ergotree.pdf",
    "format",
    "script",
    "execution](sigmastate",
    "validation](validation.md",
    "implementation",
    "metadata",
    "additional",
    "resources",
    "section",
    "here](https://ergoplatform.org",
    "scorexfoundation",
    "sigmastate",
    "interpreter",
    "issues/264",
    "language](https://www.ergoforum.org",
    "representation",
    "pull/812",
    "pseudo",
    "code](https://github.com",
    "ross",
    "weir",
    "code",
    "generates",
    "ergotrees",
    "effort",
    "basis"
  ],
  "sections": [
    {
      "heading": "ErgoTree: Reference Manual",
      "content": "ErgoTree forms the backbone of Ergo's smart contracts. It is the typed abstract syntax of the ErgoTree language used for defining logical propositions that protect boxes (coin abstractions) in Ergo. While ErgoTree is fundamental, most users interact with it indirectly, primarily developing contracts using a higher-level language called ErgoScript, which later compiles into ErgoTree."
    },
    {
      "heading": "Understanding ErgoTree",
      "content": "ErgoTree serves as a specialized language, encapsulating the universal language of the Ergo blockchain. It directly interacts with key components such as Boxes, Tokens, and Zero-Knowledge Sigma-Propositions. ErgoTree is optimized for efficient storage and rapid execution.\nA language intended for writing blockchain contracts must be deterministic to ensure spam-resistance. It also needs to be simple yet expressive enough to function as a solid platform for contractual money. ErgoTree meets these requirements, making it an essential tool for creating, securing, and managing boxes on the Ergo blockchain.\nComplementing ErgoTree is a frontend language named ErgoScript. Drawing inspiration from Scala/Kotlin, ErgoScript shares common subsets with Java and C#, making it user-friendly for programmers acquainted with these languages. ErgoScript is designed to attract a broad spectrum of programmers with its intuitive approach."
    },
    {
      "heading": "Structure, Authentication, and Application",
      "content": "ErgoTree, distinct from low-level languages like stack-based EVM assembly, is structured as a typed abstract syntax tree. In this regard, ErgoTree is a kind of authentication language aka \"smart signature\" used to validate transactions or actions by verifying specific conditions.\nErgoTree achieves this by combining:\nSecret Data Predicates: Conditions verifying confidential information such as digital signatures or secret keys.\nBlockchain Context Predicates: Conditions dependent on the transaction's specific context within the blockchain.\nBy evaluating these predicates, ErgoTree authenticates transactions, ensuring their legitimacy and adherence to set rules. Its ability to validate and secure transactions while adapting to the transaction context makes ErgoTree a versatile tool, extending its applicability to various digital platforms, including other cryptocurrencies and Central Bank Digital Currencies (CBDCs), or even non-monetary digital objects where smart access could be needed. Off-chain applications often need to perform similar validations; see Fleet SDK Recipes for examples using JavaScript/TypeScript.\nAdditional parties can be authorized\nParties can delegate authorization\nAND/OR expressions\nConditions can extend beyond signer identity."
    },
    {
      "heading": "Key ErgoTree Concepts",
      "content": "ErgoTree is written into UTXO boxes and is subsequently evaluated by the transaction verifier.\nThe propositions are stored in the blockchain in the ErgoTree serialization format. This format optimizes for compact storage, swift script execution, and efficient transaction validation.\nThe reference implementation of ErgoTree is in Scala, but alternative implementations can utilize other languages.\nErgoTree's binary format intentionally omits metadata, which might be necessary for various Ergo applications."
    },
    {
      "heading": "Additional Resources",
      "content": "ErgoTree serialization section available here.\nConstant-less lambdas.\nErgoTree as an Authentication Language.\nHuman representation for ergo tree #812.\nErgoTree pseudo-code: Generates pseudo code for compiled ErgoTrees on a best effort basis."
    }
  ],
  "qa_pairs": []
}