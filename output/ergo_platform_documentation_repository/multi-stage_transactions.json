{
  "title": "Multi-Stage Transactions",
  "source_url": "docs/dev/protocol/tx/multi-stage-txs.md",
  "summary": "# Multi-Stage Transactions\n\nA simple transaction (tx) is the foundation of all transactions, representing a direct exchange between two parties. The advent of Smart Contracts enables the creation of autonomous systems that can handle complex real-world scenarios on the blockchain. ## What Are Multi-Stage Transactions?\n\nMulti-stage transactions involve multiple steps, where each step is a separate transaction that must be successfully executed to complete a larger objective. Unlike simple one-to-one transfers, these transactions require coordination across various stages, often governed by intricate smart contract logic. For example, multi-stage transactions may be required in scenarios involving complex conditions or timed events, such as escrow services, staged payments, or multi-party agreements.",
  "keywords": [
    "multi",
    "stage",
    "transactions",
    "transaction",
    "foundation",
    "exchange",
    "party",
    "advent",
    "smart",
    "contracts",
    "creation",
    "system",
    "world",
    "scenario",
    "blockchain",
    "step",
    "objective",
    "transfer",
    "coordination",
    "contract",
    "logic",
    "example",
    "condition",
    "event",
    "escrow",
    "service",
    "payment",
    "agreement",
    "execution",
    "process",
    "illustration",
    "lock",
    "layer",
    "validation",
    "check",
    "complexity",
    "feature",
    "chaining",
    "lending",
    "loan",
    "request",
    "borrower",
    "lender",
    "term",
    "amount",
    "interest",
    "rate",
    "fund",
    "repayment",
    "approval",
    "funding",
    "utilization",
    "business",
    "purpose",
    "account",
    "aspect",
    "installment",
    "series",
    "completion",
    "debt",
    "success",
    "closure",
    "real",
    "summary",
    "equivalent",
    "release",
    "time"
  ],
  "sections": [
    {
      "heading": "Multi-Stage Transactions",
      "content": "A simple transaction (tx) is the foundation of all transactions, representing a direct exchange between two parties. The advent of Smart Contracts enables the creation of autonomous systems that can handle complex real-world scenarios on the blockchain."
    },
    {
      "heading": "What Are Multi-Stage Transactions?",
      "content": "Multi-stage transactions involve multiple steps, where each step is a separate transaction that must be successfully executed to complete a larger objective. Unlike simple one-to-one transfers, these transactions require coordination across various stages, often governed by intricate smart contract logic.\nFor example, multi-stage transactions may be required in scenarios involving complex conditions or timed events, such as escrow services, staged payments, or multi-party agreements. Each stage relies on the execution of a preceding step, making the entire process more secure and robust.\nA classic illustration of a multi-stage transaction is the pin-lock contract, where multiple layers of validation or condition checks must be met before the final transaction can occur. The complexity of multi-stage transactions can vary, but their key feature is the chaining of multiple transactions to complete a scenario."
    },
    {
      "heading": "Real-World Lending as a Multi-Stage Transaction",
      "content": "Let\u2019s use a traditional lending process as an example. While in the real world, lending may seem like a single transaction, when mapped onto a blockchain, it can be broken down into a multi-stage transaction process:"
    },
    {
      "heading": "Stages of a Lending Process in Blockchain",
      "content": "Loan Request Stage:\nReal World: A borrower requests a loan from a lender with agreed terms, such as the loan amount and interest rate.\n\nBlockchain: The borrower creates a smart contract (or box) requesting funds. This smart contract includes conditions, such as the repayment terms and the interest rate.\n\n\nLoan Approval and Funding Stage:\n\nReal World: The lender approves the request and disburses the loan.\n\nBlockchain: The lender funds the borrower\u2019s smart contract, which triggers the transfer of funds to the borrower upon satisfying the conditions set in the contract.\n\n\nLoan Utilization Stage:\n\nReal World: The borrower uses the loan for business purposes.\n\nBlockchain: The borrower accesses the funded box, transferring the loaned amount into their own account for use.\n\n\nRepayment Stage (This is where the multi-stage aspect becomes evident):\n\nReal World: The borrower repays the loan with interest in agreed-upon installments.\n\nBlockchain: The borrower initiates a series of transactions, where each monthly repayment is a separate transaction executed on the blockchain. These repayments continue until the full amount (plus interest) has been transferred back to the lender.\n\n\nCompletion Stage:\n\nReal World: The loan agreement concludes when the borrower pays off the debt.\nBlockchain: The smart contract governing the loan automatically closes once the final repayment transaction is executed, concluding the multi-stage process."
    },
    {
      "heading": "Why is This a Multi-Stage Transaction?",
      "content": "Each step in the lending process on the blockchain is linked to the success of the previous one. The loan cannot be funded until the borrower\u2019s smart contract is created, and repayments cannot occur until the funds are utilized. The entire process involves multiple transactions (loan request, funding, repayments, and final closure), making it a perfect example of a multi-stage transaction."
    },
    {
      "heading": "Translating Real-World Scenarios to Blockchain: A Summary",
      "content": "| Real-World Lending Scenario                                                                                         | Equivalent Blockchain Transaction                                                                                                                       |\n| ------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| 1. Borrower requests a loan with specified terms.                                                                   | Borrower creates a smart contract requesting the loan amount, specifying the conditions for release.                                                     |\n| 2. Lender approves and sends the loan.                                                                              | Lender funds the borrower\u2019s smart contract.                                                                                                             |\n| 3. Borrower utilizes the loan.                                                                                      | Borrower accesses the funds.                                                                                                                            |\n| 4. Borrower repays the loan in installments.                                                                        | Borrower makes multiple transactions over time to repay the loan with interest.                                                                          |\n| 5. Loan transaction concludes.                                                                                      | Smart contract closes once all repayments are made, completing the multi-stage transaction.                                                              |"
    }
  ],
  "qa_pairs": []
}