{
  "title": "Tutorial: Blockchain Explorer with Raspberry Pi",
  "source_url": "docs/dev/stack/rpi-blockchain-explorer.md",
  "summary": "# Tutorial: Blockchain Explorer with Raspberry Pi\n\n## How to setup the Chain-Grabber module on a Raspberry Pi device\n\nThis is a guide for developers and data scientists interested in storing the Ergo blockchain to a standardized database format using a Raspberry Pi. We will focus specifically on the Chain Grabber module from the [Ergo Blockchain Explorer (backend)](https://github.com/ergoplatform/explorer-backend). ### Prerequisites\n\n* Raspberry Pi with official OS installed\n* Minimum 60GB of disk space available\n* SSH enabled with stable internet connection\n\n<br>\n\n### Preparing the RPi\n```bash\nsudo apt update\nsudo apt full-upgrade\n```\n\n### Download latest Java version\n```bash\nsudo apt install default-JDK\n```\n\n### Download sbt\n```bash\necho \"deb https://repo.scala-sbt.org/scalasbt/debian /\" | sudo tee -a /etc/apt/sources.list.d/sbt.list\ncurl -sL \"https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x2EE0EA64E40A89B84B2DF73499E82A75642AC823\" | sudo apt-key add\nsudo apt update\nsudo apt install sbt\n```\n\n### Download and unzip precompiled JAR\n\nIf you are reading this in the future, please visit the [code release repo](https://github.com/ergoplatform/explorer-backend/releases) and replace it with the appropriate version.",
  "keywords": [
    "tutorial",
    "blockchain",
    "explorer",
    "raspberry",
    "chain",
    "grabber",
    "module",
    "device",
    "guide",
    "developer",
    "datum",
    "scientist",
    "ergo",
    "database",
    "format",
    "backend)](https://github.com",
    "ergoplatform",
    "prerequisite",
    "minimum",
    "disk",
    "space",
    "internet",
    "connection",
    "bash",
    "update",
    "upgrade",
    "download",
    "java",
    "version",
    "install",
    "default",
    "echo",
    "https://repo.scala-sbt.org/scalasbt/debian",
    "sources.list.d",
    "sbt.list",
    "curl",
    "https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x2ee0ea64e40a89b84b2df73499e82a75642ac823",
    "future",
    "code",
    "release",
    "backend",
    "wget",
    "https://github.com/ergoplatform/explorer-backend/archive/refs/tags/<version>.zip",
    "backend-<version",
    "postgresql",
    "snippet",
    "username",
    "postgre",
    "createuser",
    "setup",
    "load",
    "schema",
    "psql",
    "/explorer",
    "backend-9.4.3",
    "core",
    "resource",
    "v9__schema.sql",
    "line",
    "script",
    "bunch",
    "table",
    "index",
    "config",
    "password",
    "nano",
    "launch",
    "command",
    "directory",
    "block",
    "height",
    "select",
    "max(height",
    "node_header"
  ],
  "sections": [
    {
      "heading": "How to setup the Chain-Grabber module on a Raspberry Pi device",
      "content": "This is a guide for developers and data scientists interested in storing the Ergo blockchain to a standardized database format using a Raspberry Pi.\nWe will focus specifically on the Chain Grabber module from the Ergo Blockchain Explorer (backend)."
    },
    {
      "heading": "Prerequisites",
      "content": "Raspberry Pi with official OS installed\nMinimum 60GB of disk space available\nSSH enabled with stable internet connection"
    },
    {
      "heading": "Preparing the RPi",
      "content": "bash\nsudo apt update\nsudo apt full-upgrade"
    },
    {
      "heading": "Download latest Java version",
      "content": "bash\nsudo apt install default-JDK"
    },
    {
      "heading": "Download sbt",
      "content": "bash\necho \"deb https://repo.scala-sbt.org/scalasbt/debian /\" | sudo tee -a /etc/apt/sources.list.d/sbt.list\ncurl -sL \"https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x2EE0EA64E40A89B84B2DF73499E82A75642AC823\" | sudo apt-key add\nsudo apt update\nsudo apt install sbt"
    },
    {
      "heading": "Download and unzip precompiled JAR",
      "content": "If you are reading this in the future, please visit the code release repo and replace it with the appropriate version.\n```bash\nwget https://github.com/ergoplatform/explorer-backend/archive/refs/tags/.zip\nunzip explorer-backend-\n```"
    },
    {
      "heading": "Install PostgreSQL",
      "content": "In the code snippet below, we created \"ergo\" as the username.\nbash\nsudo apt install postgresql\nsudo su postgres\ncreateuser ergo -P --interactive"
    },
    {
      "heading": "Setup and load database schema",
      "content": "bash\npsql\ncreate database explorer;\n\\c explorer;\n\\i /explorer-backend-9.4.3/modules/explorer-core/src/main/resources/db/V9__Schema.sql\nThe final line of code above executes a SQL script that creates a bunch of tables and indices to be populated later by the Chain Grabber."
    },
    {
      "heading": "Update app config",
      "content": "This is where you need to edit the database username and password you set up earlier.\nbash\nsudo nano explorer-backend-9.4.3/modules/chain-grabber/src/main/resources/application.conf"
    },
    {
      "heading": "Launch chain-grabber",
      "content": "Run the following command from within the explorer-backend directory. \nbash\nsbt chain-grabber/run"
    },
    {
      "heading": "Validate",
      "content": "If all goes well, the code below returns the latest block height that was stored in the database.\nbash\nselect max(height) from node_headers;"
    }
  ],
  "qa_pairs": []
}