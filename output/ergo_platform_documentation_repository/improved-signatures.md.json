{
  "title": "improved-signatures.md",
  "source_url": "docs/dev/scs/sigma/improved-signatures.md",
  "summary": "The initial implementation of distributed signatures support in the Ergo node worked well in simple cases, and ZK Treasury was built on top of it. However, in complex scenarios, it exhibited some problems:\n\n*   Hints generated (such as commitments) were not tied to the position of a sub-expression within the overall sigma-expression. For example, for a statement like `atLeast(2, Coll(pkAlice, pkBob, pkCharlie)) && (pkBob || pkDiana)`, the same commitment would be generated for Bob's public key (`pkBob`) in both parts of the expression. This is improper and insecure, as a signature could potentially reveal Bob's secret key because the same randomness would be used twice for different challenges in the Schnorr protocol. *   Similarly, generated hints were not tied to specific transaction inputs.",
  "keywords": [
    "implementation",
    "signature",
    "support",
    "ergo",
    "node",
    "case",
    "treasury",
    "scenario",
    "problem",
    "hints",
    "commitment",
    "position",
    "expression",
    "sigma",
    "example",
    "statement",
    "atleast(2",
    "coll(pkalice",
    "pkbob",
    "pkcharlie",
    "pkdiana",
    "part",
    "randomness",
    "challenge",
    "schnorr",
    "protocol",
    "hint",
    "transaction",
    "input",
    "issue",
    "branch",
    "index",
    "tree",
    "script",
    "reduction",
    "phase",
    "context",
    "tutorial",
    "signing",
    "of-3",
    "spending",
    "register",
    "retrieve",
    "groupelement",
    "coll(provedlog(pka",
    "provedlog(pkb",
    "provedlog(pkc",
    "code",
    "value",
    "self",
    "sigmaprop",
    "object",
    "atleast",
    "function",
    "enforce",
    "condition",
    "transactions/71aa67f95e96827193bdf711f6ccf41b30ef8bbbdaef63ed672dfb7420a4c314",
    "detail",
    "explorer",
    "/utxo",
    "byidbinary/{boxid",
    "field",
    "request",
    "endpoint",
    "json",
    "address",
    "alice",
    "/wallet",
    "generatecommitment",
    "secret",
    "wallet",
    "response",
    "participant",
    "secrethint",
    "type",
    "pubkey",
    "cmtwithsecret",
    "publichint",
    "cmtreal",
    "extraction",
    "sign",
    "section",
    "6c7bf7a9720d26bec5c3b5bf1bc6199e9a5b876ba5994ab5e4214b0d8eed1492",
    "boxid",
    "extension",
    "output",
    "asset",
    "additionalregister",
    "transactionid",
    "b5a1a069015f94bf7daaec46fc121044607603c844d1c6d6a8e9b2322379b375",
    "contribution",
    "step",
    "carol",
    "/script",
    "extracthint",
    "proofbyte",
    "7d64cd47d3dc8bc5c336297e494f48d601c586175b37da228a54a77f52eb1ce307c22c7541368b73307bf37be4051406b49e989b4aee9f27789de0c426a8231fead96178544cbb54b37286f2630dcd9d5794ae9905697e8eeb0d03540d4cb8352a0734187d5e84b6d0825f12e3fcf287ee24e48d3a2a6dfb56471c41767ef88a3279e8fdc70274d85baf16686b641eaa",
    "size",
    "0354efc32652cad6cf1231be987afa29a686af30b5735995e3ce51339c4d0ca380",
    "0235647199b150d8fab315d74e44b78866787d0330241fd471f98bf6c2bffe1e8d",
    "e39924c725e1aee0cb705ce18a15d5425148939b7739e628",
    "proof",
    "0323bd7f1b87280aa2b7cb2a374da1897ef7d5fae7ab3948440907d303427740ba",
    "69cd83b8770ab203ccb27094cb235e31613360e0933cf22e",
    "security",
    "network"
  ],
  "sections": [],
  "qa_pairs": []
}