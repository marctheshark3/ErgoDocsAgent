{
  "title": "sigusd-dev.md",
  "source_url": "docs/uses/sigmausd/sigusd-dev.md",
  "summary": "### Accessing SigmaUSD as a Developer\n\nSigmaUSD is a decentralized stablecoin protocol on the Ergo blockchain. Developers can interact with SigmaUSD through various frameworks and approaches, such as Mosaik, AppKit, and Sigma-Rust. This tutorial provides a detailed guide on how to build new dApps that interact with SigmaUSD using these tools, with special focus on the mechanisms demonstrated in ErgoMix for robust integration.\n\n---\n\n### 1. **Accessing SigmaUSD through Mosaik**\n\nMosaik is a lightweight framework designed for building decentralized applications on Ergo. It provides an intuitive way to access and interact with SigmaUSD.",
  "keywords": [
    "accessing",
    "sigmausd",
    "developer",
    "stablecoin",
    "protocol",
    "ergo",
    "blockchain",
    "framework",
    "approach",
    "mosaik",
    "appkit",
    "sigma",
    "rust",
    "tutorial",
    "guide",
    "dapps",
    "tool",
    "focus",
    "mechanism",
    "ergomix",
    "integration",
    "application",
    "access",
    "setup",
    "ageusdservice.kt",
    "service",
    "operation",
    "state",
    "ageusd",
    "bank",
    "exchange",
    "rate",
    "sigmarsv",
    "kotlin",
    "detail",
    "getageusdbank",
    "ageusdbank",
    "thread.sleep(1000",
    "return",
    "ageusdbank(340",
    "calcsigmausdexchange(sigmausdamount",
    "ergamount",
    "ageusdbank.sigusdprice",
    "sigmausdamount",
    "feeamount",
    "kotlin.math.abs((ergamount",
    "formatsigmausdamount(sigmausdamount",
    "formatergamount(ageusdbank.sigusdprice",
    "source",
    "files",
    "ageusdservice.kt](https://github.com",
    "mrstahlfelge",
    "blob",
    "master",
    "ergoplatform",
    "example",
    "ageusdcontroller.kt](https://github.com",
    "ageusdcontroller.kt",
    "user",
    "interface",
    "demo",
    "default",
    "justify",
    "card(padding",
    "valignment",
    "center",
    "label(\"reserve",
    "ratio",
    "labelstyle",
    "headline2",
    "label(\"${ageusdbank.reserveratio}%",
    "headline1",
    "contract",
    "utxo",
    "management",
    "dapp",
    "node",
    "dependency",
    "integrate",
    "java",
    "project",
    "transactions",
    "transaction",
    "network",
    "ergoclient",
    "client",
    "restapiergoclient.create(\"http://node:9053/",
    "networktype",
    "mainnet",
    "unsignedtransactionbuilder",
    "client.getunsignedtransactionbuilder",
    "outboxbuilder",
    "txb.outboxbuilder",
    "value",
    "nanoergs",
    "list",
    "inputbox",
    "txb.boxestospend(inputslist).build",
    "unsignedtransaction",
    "txb.build",
    "signedtransaction",
    "signedtx",
    "string",
    "txid",
    "client.getnode().sendtransaction(signedtx",
    "examples",
    "documentation](https://github.com",
    "privacy",
    "interaction",
    "ergomixservice.scala",
    "createsigmausdtransaction(amount",
    "boxestospend",
    "findboxestospend(amount",
    "unsignedtx",
    "createunsignedtransaction(boxestospend",
    "amount",
    "signtransaction(unsignedtx",
    "ergomixer",
    "ergomixback",
    "services",
    "handling",
    "ergomixservice",
    "method",
    "usage",
    "pattern",
    "submission",
    "conclusion",
    "disposal",
    "lightweight",
    "capability",
    "architecture",
    "development",
    "implementation",
    "need",
    "reading",
    "code",
    "link",
    "section"
  ],
  "sections": [
    {
      "heading": "Accessing SigmaUSD as a Developer",
      "content": "SigmaUSD is a decentralized stablecoin protocol on the Ergo blockchain. Developers can interact with SigmaUSD through various frameworks and approaches, such as Mosaik, AppKit, and Sigma-Rust. This tutorial provides a detailed guide on how to build new dApps that interact with SigmaUSD using these tools, with special focus on the mechanisms demonstrated in ErgoMix for robust integration."
    },
    {
      "heading": "1. Accessing SigmaUSD through Mosaik",
      "content": "Mosaik is a lightweight framework designed for building decentralized applications on Ergo. It provides an intuitive way to access and interact with SigmaUSD."
    },
    {
      "heading": "Setup",
      "content": "Mosaik Integration:\nMosaik uses the AgeUsdService.kt to interact with SigmaUSD. This service manages key operations such as fetching the current state of the AgeUSD bank and calculating exchange rates for SigmaUSD and SigmaRSV.\n```kotlin\n   // Fetching current bank details\n   fun getAgeUsdBank(): AgeUsdBank {\n       Thread.sleep(1000)\n       return AgeUsdBank(340, 4184100, 623497)\n   }\n// Calculating SigmaUSD exchange\n   fun calcSigmaUsdExchange(sigmaUsdAmount: Long): AgeUsdExchangeInfo {\n       val ageUsdBank = getAgeUsdBank()\n       val ergAmount = ageUsdBank.sigUsdPrice * sigmaUsdAmount\n       val feeAmount = kotlin.math.abs((ergAmount * 2) / 100)\n       return AgeUsdExchangeInfo(\n           ageUsdBank.sigUsdPrice,\n           ergAmount,\n           \"${formatSigmaUsdAmount(sigmaUsdAmount)} x ${formatErgAmount(ageUsdBank.sigUsdPrice)} ERG\",\n           feeAmount,\n           \"2% AgeUSD bank fee\",\n           ergAmount + feeAmount\n       )\n   }\n   ```\nSource Files:\n\nAgeUsdService.kt\nAgeUsdController.kt\n\n\n\nUser Interface:\n\nThe Mosaik DSL is used to create user interfaces that interact with SigmaUSD. The example UI from the Mosaik demo application demonstrates how users can interact with the protocol.\nkotlin\n   column(Padding.DEFAULT) {\n       layout(HAlignment.JUSTIFY) {\n           card(Padding.HALF_DEFAULT) {\n               layout(HAlignment.JUSTIFY, VAlignment.CENTER) {\n                   column(Padding.HALF_DEFAULT) {\n                       label(\"Reserve ratio\", LabelStyle.HEADLINE2)\n                       label(\"${ageUsdBank.reserveRatio}%\", LabelStyle.HEADLINE1)\n                   }\n               }\n           }\n       }\n   }"
    },
    {
      "heading": "2. Accessing SigmaUSD through AppKit",
      "content": "AppKit is a comprehensive framework for interacting with Ergo smart contracts and UTXO management, making it ideal for integrating SigmaUSD into your dApp."
    },
    {
      "heading": "Setup",
      "content": "Setting Up Ergo Node:\n\nSet up an Ergo node and install the necessary dependencies. AppKit integrates seamlessly with Java or Kotlin-based projects, providing a powerful API to interact with the Ergo blockchain.\n\n\nCreating Transactions:\n\nUse AppKit to interact with the SigmaUSD contract. This involves creating transactions, managing UTXOs, and signing transactions before submitting them to the Ergo network.\n```java\n   ErgoClient client = RestApiErgoClient.create(\"http://node:9053/\", NetworkType.MAINNET, \"\", \"\");\n   UnsignedTransactionBuilder txB = client.getUnsignedTransactionBuilder();\nOutBoxBuilder outBoxB = txB.outBoxBuilder()\n       .value(1000000L)  // set value in nanoERGs\n       .contract(SigmaUSDContract);\nList inputs = txB.boxesToSpend(inputsList).build();\n   UnsignedTransaction tx = txB.build();\n// Signing the transaction\n   SignedTransaction signedTx = client.getWallet().sign(tx);\n// Sending the transaction\n   String txId = client.getNode().sendTransaction(signedTx);\n   ```\nSource Files:\nAppKit Examples and Documentation"
    },
    {
      "heading": "3. Building New dApps with ErgoMix Approach",
      "content": "ErgoMix demonstrates a robust mechanism for integrating SigmaUSD into backend services. It uses a service-oriented approach to handle transactions, ensuring privacy and seamless interaction with the SigmaUSD protocol."
    },
    {
      "heading": "Setup",
      "content": "Understanding ErgoMix's Approach:\nErgoMix utilizes services like ErgoMixService.scala to manage SigmaUSD interactions. This service constructs and sends transactions that involve SigmaUSD, embedding these operations within privacy-enhancing mix transactions.\nscala\n   def createSigmaUsdTransaction(amount: Long): SignedTransaction = {\n       val boxesToSpend = findBoxesToSpend(amount)\n       val unsignedTx = createUnsignedTransaction(boxesToSpend, amount)\n       signTransaction(unsignedTx)\n   }\nSource Files:\n\nErgoMixService.scala\n\n\n\nTransaction Handling:\n\n\nThe transaction handling involves fetching relevant UTXOs, creating unsigned transactions, and signing them before sending them to the Ergo network. ErgoMixService provides methods that can be adapted to new dApps, ensuring that SigmaUSD can be seamlessly integrated.\n\n\nExample Usage:\n\nCreating a transaction that involves SigmaUSD can follow the pattern used in ErgoMixService, where UTXOs are selected, transactions are built, and signed securely before submission."
    },
    {
      "heading": "Conclusion",
      "content": "Developers have several robust tools at their disposal for integrating SigmaUSD into new or existing dApps. Mosaik provides a lightweight and user-friendly approach, while AppKit offers comprehensive access to the Ergo blockchain's capabilities. ErgoMix demonstrates how SigmaUSD can be embedded within a service-oriented architecture, making it an excellent guide for new developments.\nBy understanding these frameworks and their implementations, developers can choose the best method for their needs, ensuring seamless and efficient interaction with SigmaUSD on the Ergo blockchain.\nFor further reading and source code, please refer to the links provided in each section above."
    }
  ],
  "qa_pairs": []
}