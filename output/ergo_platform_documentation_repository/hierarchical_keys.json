{
  "title": "Hierarchical keys",
  "source_url": "docs/dev/wallet/keys.md",
  "summary": "# Hierarchical keys\n\n[BIP-0044](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki) defines a logical hierarchy for deterministic wallets. This is a common standard that is used directly (or used as inspiration) by countless projects in the cryptocurrency sphere. Such a standard allows end users to move between different wallet software trivially and established the framework for a more cohesive ecosystem to grow. The standard has five levels as part of its path:\n\n```bash\nm / 44' / coin_type' / account' / change / address_index\n``` [EIP-0003: Deterministic Wallet Standard](https://github.com/ergoplatform/eips/blob/ad0730daaebd9783f8db3c3095187a62851ee132/eip-0003.md) attempts to define a specific `coin_type` for the Ergo ecosystem, as well as a policy for how wallets use the `change` level.",
  "keywords": [
    "bip-0044](https://github.com",
    "bitcoin",
    "bips",
    "blob",
    "master",
    "bip-0044.mediawiki",
    "hierarchy",
    "wallet",
    "standard",
    "inspiration",
    "project",
    "cryptocurrency",
    "sphere",
    "user",
    "software",
    "framework",
    "ecosystem",
    "level",
    "part",
    "path",
    "bash",
    "coin_type",
    "account",
    "change",
    "address_index",
    "eip-0003",
    "deterministic",
    "standard](https://github.com",
    "ergoplatform",
    "ad0730daaebd9783f8db3c3095187a62851ee132",
    "eip-0003.md",
    "ergo",
    "policy",
    "coin",
    "type",
    "registered",
    "coin_type**",
    "slip-0044](https://github.com",
    "satoshilabs",
    "slip",
    "slip-0044.md",
    "word",
    "value",
    "ascii",
    "character",
    "default",
    "pair",
    "bip-44",
    "address",
    "eip-3",
    "transaction",
    "decision",
    "experience",
    "privacy",
    "mixer",
    "ergomix",
    "pseudo",
    "anonymity",
    "case",
    "addresses",
    "node",
    "root",
    "seed",
    "coinbarn",
    "yoroi",
    "time",
    "m/44\u2019/429\u2019/0\u2019/0/0",
    "m/1/2",
    "more](https://www.ergoforum.org",
    "issue",
    "wallet/2940",
    "derive",
    "localhost:9053",
    "swagger#/wallet",
    "walletderivekey",
    "click",
    "derivationpath",
    "m/44'/429'/0'/0/0",
    "right",
    "execute",
    "response"
  ],
  "sections": [
    {
      "heading": "Hierarchical keys",
      "content": "BIP-0044 defines a logical hierarchy for deterministic wallets. This is a common standard that is used directly (or used as inspiration) by countless projects in the cryptocurrency sphere.\nSuch a standard allows end users to move between different wallet software trivially and established the framework for a more cohesive ecosystem to grow.\nThe standard has five levels as part of its path:\nbash\nm / 44' / coin_type' / account' / change / address_index\nEIP-0003: Deterministic Wallet Standard attempts to define a specific coin_type for the Ergo ecosystem, as well as a policy for how wallets use the change level."
    },
    {
      "heading": "Coin Type",
      "content": "Registered coin_types can be found in SLIP-0044\nWe will be using the word ergo summed based on the numerical values of the ASCII characters for the coin_type. As shown below, this means that our coin_type is 429.\n101 + 114 + 103 + 111 = 429\nThus our path will look as such:\nbash\nm / 44' / 429' / account' / change / address_index\nAnd the first default key pair for an Ergo wallet will be:\nbash\nm / 44' / 429' / 0' / 0 / 0"
    },
    {
      "heading": "Change",
      "content": "In BIP-44 the constant 0 is used for the external addresses and constant 1 for internal addresses (aka change addresses).\nFor EIP-3, we instead do not use constant 1 at all. Thus we do not support internal/change addresses, but only external addresses.\nAs such all wallets supporting EIP-3 should have any change within a transaction go back to the address using constant 0.\nThis decision was made to simplify the experience for end-users and solidify a cohesive standard for wallets to target in the Ergo ecosystem. A full-blown privacy-preserving mixer is already available within the ecosystem, ErgoMix, and thus the pseudo-anonymity provided by internal addresses is not particularly vital.\nThat said, in the future new wallets are more than welcome to create a new EIP for wallets that may wish to support internal addresses as well as an alternate standard (if valuable use cases arise)."
    },
    {
      "heading": "Derived Addresses",
      "content": "Ergo node uses a secret root key (derived from seed) for the change address. After switching to EIP-3, supported by CoinBarn and Yoroi around that time, the node switched to the same change address as in the wallets, thus deriving an address corresponding to m/44\u2019/429\u2019/0\u2019/0/0. (originally m/1/2)\nRead More"
    },
    {
      "heading": "Deriving Addresses",
      "content": "Navigate to localhost:9053/swagger#/wallet/walletDeriveKey\nClick \"Try it out\"\nbash\n\"derivationPath\": \"m/44'/429'/0'/0/0\"\nThe wallet needs to be unlocked, and you need to authorize on top right on swagger\nClick execute and check the address you get in the response"
    }
  ],
  "qa_pairs": []
}