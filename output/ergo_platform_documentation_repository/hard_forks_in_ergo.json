{
  "title": "Hard Forks in Ergo",
  "source_url": "docs/mining/gov/hard-fork.md",
  "summary": "---\ntags:\n  - Forking\n  - Fork\n---\n\n# Hard Forks in Ergo\n\n## Overview\n\nIn the context of the Ergo blockchain, a hard fork typically involves significant changes to the underlying consensus mechanism or core protocol rules, which require all nodes or participants in the network to upgrade to the new version of the software. If a portion of the network's participants do not upgrade, the blockchain splits into two separate chains, with the new chain following the updated protocol and the old chain following the previous one. ## Why Hard Forks Are Necessary\n\nHard forks are necessary for several reasons:\n\n- **Major Upgrades:** Introducing new features or changing core mechanics of the blockchain, such as changes in the consensus algorithm, transaction validation rules, or other fundamental properties that require all nodes to operate under the new rules. - **Bug Fixes:** Addressing critical vulnerabilities that cannot be patched via soft forks or minor updates.",
  "keywords": [
    "forking",
    "fork",
    "hard",
    "forks",
    "ergo",
    "overview",
    "context",
    "blockchain",
    "change",
    "consensus",
    "mechanism",
    "core",
    "protocol",
    "rule",
    "node",
    "participant",
    "network",
    "version",
    "software",
    "portion",
    "chain",
    "reason",
    "major",
    "upgrades",
    "feature",
    "mechanic",
    "algorithm",
    "transaction",
    "validation",
    "property",
    "fixes",
    "vulnerability",
    "update",
    "security",
    "governance",
    "decisions",
    "decision",
    "community",
    "developer",
    "break",
    "policy",
    "structure",
    "implementation",
    "step",
    "development",
    "testing",
    "environment",
    "testnet",
    "issue",
    "forkresolutionspec`](https://github.com",
    "ergoplatform",
    "blob",
    "master",
    "scala",
    "forkresolutionspec.scala",
    "file",
    "github",
    "example",
    "integration",
    "test",
    "behavior",
    "resolution",
    "mining",
    "scenario",
    "period",
    "coordination",
    "developers",
    "miner",
    "operator",
    "communication",
    "block",
    "height",
    "date",
    "configuration",
    "role",
    "setting",
    "hocon",
    "scorex",
    "network.nodename",
    "node01",
    "node02",
    "activation",
    "monitoring",
    "time",
    "post",
    "anomaly",
    "result",
    "handling",
    "divergence",
    "event",
    "legacy",
    "class",
    "case",
    "ergovalidationsetting",
    "map[short",
    "rulestatus",
    "sigmasetting",
    "sigmavalidationsetting",
    "validationsettings",
    "bytesserializable",
    "logic",
    "need",
    "changes",
    "model",
    "conclusion",
    "tool",
    "evolution",
    "improvement",
    "planning",
    "transition",
    "disruption",
    "detail",
    "process",
    "code"
  ],
  "sections": [
    {
      "heading": "Overview",
      "content": "In the context of the Ergo blockchain, a hard fork typically involves significant changes to the underlying consensus mechanism or core protocol rules, which require all nodes or participants in the network to upgrade to the new version of the software. If a portion of the network's participants do not upgrade, the blockchain splits into two separate chains, with the new chain following the updated protocol and the old chain following the previous one."
    },
    {
      "heading": "Why Hard Forks Are Necessary",
      "content": "Hard forks are necessary for several reasons:\nMajor Upgrades: Introducing new features or changing core mechanics of the blockchain, such as changes in the consensus algorithm, transaction validation rules, or other fundamental properties that require all nodes to operate under the new rules.\n\n\nBug Fixes: Addressing critical vulnerabilities that cannot be patched via soft forks or minor updates. These bugs could potentially threaten the security of the entire network.\n\n\nGovernance Decisions: Implementing decisions made by the community or core developers that require a clean break from previous rules, such as changes in monetary policy or governance structures."
    },
    {
      "heading": "How Hard Forks Are Implemented in Ergo",
      "content": "The implementation of a hard fork in Ergo follows these general steps:\nDevelopment and Testing: \n\n\nNew protocol rules are developed and rigorously tested in a controlled environment, typically a testnet or developer network. This is crucial to ensure that all changes work as intended and do not introduce new issues.\n\n\nThe ForkResolutionSpec file, found in the Ergo GitHub repository, is an example of how forks are tested. This file contains integration tests designed to validate the behavior of the network during and after the fork, ensuring that the nodes correctly resolve different chain forks and eventually converge on a single valid chain.\nscala\n   it should \"Fork resolution after isolated mining\" in {\n       // Test scenario ensuring that nodes resolve forks correctly after isolated mining periods\n   }\nCoordination with the Network:\n\nDevelopers coordinate with miners, node operators, and the broader community to schedule the fork. Communication is crucial, as all participants need to update their software to the new version by a certain block height or date.\n\n\nThe node configuration files, such as nodes.conf, play a significant role in setting up the environment for the fork. This file specifies the settings for different nodes in the network and ensures that they are all synchronized and ready for the protocol change.\nhocon\n   nodes = [\n       { scorex { network.nodeName = node01 } },\n       { scorex { network.nodeName = node02 } },\n       ...\n   ]\nActivation and Monitoring:\n\n\nAt the predetermined block height or time, the new protocol rules are activated. The network continues to operate, but now all participants are following the new set of rules.\n\n\nPost-fork, developers and node operators monitor the network for any anomalies or issues that may arise as a result of the fork.\n\n\n\n\nHandling Divergence:\n\nIn the event that some nodes do not upgrade, the blockchain may split into two, creating a new chain (following the new rules) and a legacy chain (following the..."
    },
    {
      "heading": "When to Use Hard Forks",
      "content": "Protocol Upgrades: When a major new feature or change needs to be implemented that is not backward-compatible.\n\n\nSecurity Fixes: When critical vulnerabilities are discovered that cannot be addressed through a soft fork.\n\n\nConsensus Changes: When the community decides to make fundamental changes to the consensus algorithm or governance model."
    },
    {
      "heading": "Conclusion",
      "content": "Hard forks are a powerful tool in the evolution of the Ergo blockchain, allowing for significant changes and improvements. However, they require careful planning, coordination, and communication to ensure the network remains secure and functional during and after the transition. As with any major change, thorough testing and validation are essential to avoid disruptions.\nFor further details on how these processes are implemented and tested within the Ergo blockchain, you can explore the relevant code and configuration files available in the Ergo GitHub repository."
    }
  ],
  "qa_pairs": []
}