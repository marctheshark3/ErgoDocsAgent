{
  "title": "Ergo Node FAQ & Guidelines",
  "source_url": "docs/node/install/node-faq.md",
  "summary": "# Ergo Node FAQ & Guidelines\n\n## General\n\n### What benefits are there for running a node? There is no direct financial incentive to run a node. However, doing so contributes to increasing the security of the network. ### Can nodes be viewed anywhere? Yes, public nodes can be viewed at [ergonodes](http://ergonodes.net/).",
  "keywords": [
    "ergo",
    "node",
    "guidelines",
    "benefit",
    "incentive",
    "security",
    "network",
    "ergonodes](http://ergonodes.net/",
    "server",
    "router",
    "nginx.conf](https://github.com",
    "glasgowm148",
    "ergoscript",
    "blob",
    "misc",
    "nginx.config",
    "example",
    "node](https://github.com",
    "ergoplatform",
    "master",
    "resource",
    "minimum",
    "requirements",
    "java",
    "version",
    "system",
    "oracle",
    "se](https://www.oracle.com",
    "technetwork",
    "javase",
    "overview",
    "sdkman",
    "unix",
    "bash",
    "curl",
    "https://get.sdkman.io",
    "11.0.13.8.1",
    "amzn",
    "hardware",
    "requirement",
    "storage",
    "blockchain",
    "sync",
    "operating",
    "raspberry",
    "pi](pi.md",
    "disk",
    "flag",
    "jvm9/11",
    "command",
    "/node",
    "shutdown",
    "post",
    "http://127.0.0.1:9053",
    "api_key",
    "port",
    "lsof",
    "-i:9053",
    "section",
    "swagger](",
    "information",
    "following",
    "file",
    "method",
    "token",
    "channel",
    "access",
    "rest",
    "host",
    "internet",
    "source",
    "repository",
    "assembly`](https://www.scala",
    "sbt.org/",
    "service",
    "systemd",
    "content",
    "unit",
    "description",
    "ergonode",
    "user",
    "workingdirectory=/mnt",
    "hc_volume_19304500",
    "execstart=/mnt",
    "run_node.sh",
    "successexitstatus=143",
    "timeoutstopsec=10",
    "restart",
    "failure",
    "restartsec=5",
    "wantedby",
    "echo",
    "-jar",
    "chmod",
    "systemctl",
    "daemon",
    "reload",
    "node.service",
    "sudo",
    "status"
  ],
  "sections": [
    {
      "heading": "What benefits are there for running a node?",
      "content": "There is no direct financial incentive to run a node. However, doing so contributes to increasing the security of the network."
    },
    {
      "heading": "Can nodes be viewed anywhere?",
      "content": "Yes, public nodes can be viewed at ergonodes. However, unless your node is hosted on a publicly accessible web-server, your node should be protected by your router.\nTo run a public node, refer to this nginx.conf example.\nBe cautious when using a remote node as it can be insecure."
    },
    {
      "heading": "Java",
      "content": "An Ergo node requires a JDK/JRE version >= 9 installed on your system. We recommend using Oracle Java SE or SDKMAN for Unix-based systems:\nbash\ncurl -s \"https://get.sdkman.io\" | bash\nsdk install java 11.0.13.8.1-amzn"
    },
    {
      "heading": "Hardware",
      "content": "The only hardware requirements are ~20GB of storage for the blockchain and ~8GB of RAM for handling the sync. The node utilizes Java, so it should work across all operating systems. You can even run it on a Raspberry Pi.\nNote: Due to the intensive disk I/O, we recommend having 4-6GB of RAM with a fast SSD, running with the -Xmx4G flag on JVM9/11."
    },
    {
      "heading": "/node/shutdown",
      "content": "Use the following command to safely shut down your node\ncurl -X POST \"http://127.0.0.1:9053/node/shutdown\" -H \"api_key: hello\"\nIf a safe shutdown is not possible, you can terminate the ports:\nkill -9 $(lsof -t -i:9053)\nkill -9 $(lsof -t -i:9030)\nPlease refer to the section on swagger for more information."
    },
    {
      "heading": "Security",
      "content": "Your node should be protected by your router unless it's running on a publicly accessible web-server. If you wish to host a public node, consider the following:\nThe ergo.conf file must never be made public.\nSensitive API methods require a security token that should not be transmitted over untrusted channels.\nRestrict access to the Ergo REST API to known hosts only. Specifically, the API should not be accessible from the Internet."
    },
    {
      "heading": "Compiling from Source",
      "content": "Instead of downloading the precompiled Ergo jar, you can clone the repository and compile the jar from source using the sbt assembly command."
    },
    {
      "heading": "Running as a Service",
      "content": "Create a service file:\nvi /etc/systemd/system/node.service\nAnd enter the following content:\n```\n[Unit]\nDescription=ErgoNode Service\n[Service]\nUser=user\nWorkingDirectory=/mnt/HC_Volume_19304500/ergo\nExecStart=/mnt/HC_Volume_19304500/run_node.sh\nSuccessExitStatus=143\nTimeoutStopSec=10\nRestart=on-failure\nRestartSec=5\n[Install]\nWantedBy=multi-user.target\n```\nNext, create the sh file:\nbash\necho \"#!/bin/sh\nsudo /usr/bin/java -jar -Xmx4G ergo.jar --mainnet -c ergo.conf\" > run_node.sh\nchmod +x run_node.sh\nFinally, enable and start the service:\nsudo systemctl daemon-reload\nsudo systemctl enable node.service\nsudo systemctl start node\nsudo systemctl status node"
    }
  ],
  "qa_pairs": []
}