{
  "title": "Technical Details - ErgoDocs",
  "source_url": "https://docs.ergoplatform.com/node/modes/light-spv-mode-workflow/",
  "summary": "The technical workflow for the light-SPV mode in Ergo is as follows:",
  "keywords": [
    "workflow",
    "mode",
    "ergo"
  ],
  "sections": [
    {
      "heading": "Light SPV Mode Technical Workflow#",
      "content": "The technical workflow for the light-SPV mode in Ergo is as follows:"
    },
    {
      "heading": "Bootstrap#",
      "content": "Send GetPoPoWProof for all connections.\nOn receiving PoPoWProof, apply it to History (History should determine whether this PoPoWProof is better than its current best header chain).\nGOTO regular regime."
    },
    {
      "heading": "Regular#",
      "content": "Send ErgoSyncInfo message to connected peers\nGet a response with an INV message containing the ids of blocks, better than\n    our best block.\nRequest headers for all ids from 2.\nOn receiving Header:\nif(History.apply(header).isSuccess) {\n        State.apply(header) // just change state roothash\n    if(!isInitialBootstrapping) Broadcast INV for this header\n    } else {\n        blacklist peer\n    }"
    }
  ],
  "qa_pairs": []
}