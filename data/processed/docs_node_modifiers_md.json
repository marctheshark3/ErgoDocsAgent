{
  "id": "docs_node_modifiers_md",
  "title": "Ergo Modifiers",
  "summary": "Ergo Modifiers are the fundamental units of data exchanged between nodes in the Ergo P2P protocol, such as blocks and transactions. The Ergo block structure consists of four distinct sections: Header, Block Transactions, ADProofs, and Extension. The Header section contains the minimal information necessary to synchronize the chain and validate Proof-of-Work correctness, including cryptographic hashes and other critical data. The Extension section functions as a key-value store for storing various data relevant to the block or protocol state, including blockchain parameters and NiPoPoW interlinks.",
  "qa_pairs": [
    {
      "question": "What are Ergo Modifiers?",
      "answer": "In Ergo's P2P protocol, the fundamental units of data exchanged between nodes, such as blocks and transactions, are referred to as \"modifiers.\" Modifiers are transmitted as part of the network synchronization process."
    },
    {
      "question": "What are the four distinct sections that make up an Ergo block?",
      "answer": "The Ergo block comprises four distinct sections (modifiers): Header, Block Transactions, ADProofs, and Extension."
    },
    {
      "question": "What information is contained in the Header section of an Ergo block?",
      "answer": "The Header section contains the minimal information necessary to synchronize the chain and validate Proof-of-Work (PoW) correctness, including cryptographic hashes (roots) of the other sections."
    },
    {
      "question": "What is the purpose of the ADProofs section in an Ergo block?",
      "answer": "The ADProofs section contains Authenticated Dictionary proofs associated with the transactions in the BlockTransactions section, allowing light clients to validate transactions against the UTXO set state root hash found in the header."
    },
    {
      "question": "What types of data can be stored in the Extension section of an Ergo block?",
      "answer": "The Extension section functions as a key-value store capable of holding various data relevant to the block or protocol state, such as blockchain parameters and NiPoPoW interlinks."
    }
  ],
  "sections": [
    {
      "heading": "Introduction",
      "level": 0,
      "content": "---\ntags:\n  - Modifiers\n  - Blocks\n  - Node\n  - P2P\n  - Technical\n---"
    },
    {
      "heading": "Ergo Modifiers",
      "level": 1,
      "content": "In Ergo's P2P protocol, the fundamental units of data exchanged between nodes, such as blocks and transactions, are referred to as \"modifiers.\" Modifiers are transmitted as part of the network synchronization process. The Modifier Exchange process encompasses the protocols and systems designed to exchange this information efficiently and securely across the network."
    },
    {
      "heading": "Ergo Block Structure",
      "level": 2,
      "content": "The [Ergo block](block.md), a critical structure in the Ergo blockchain, differs from many other blockchain systems by comprising four distinct sections (modifiers):\n\n* **Header**: Contains the minimal information necessary to synchronize the chain and validate Proof-of-Work (PoW) correctness. It includes cryptographic hashes (roots) of the other sections.\n* **Block Transactions**: Consists of the ordered sequence of transactions included within the block.\n* **ADProofs**: Contains Authenticated Dictionary proofs associated with the transactions in the `BlockTransactions` section. These proofs allow light clients to validate transactions against the UTXO set state root hash found in the header.\n* **Extension**: Holds supplementary information. This includes [interlinks](nipopows.md) (for NiPoPoWs) and, for blocks at the end of a voting epoch, the blockchain parameters resulting from miner voting."
    },
    {
      "heading": "Header Section",
      "level": 2,
      "content": "The table below details the fields contained within the Header modifier:\n\n| Field              | Size (Bytes) | Description                                                                                           |\n|--------------------|--------------|-------------------------------------------------------------------------------------------------------|\n| version            | 1            | Block version number, incremented with each soft or hard fork                                         |\n| parentId           | 32           | Identifier of the parent block                                                                        |\n| ADProofsRoot       | 32           | Hash of ADProofs for transactions in the block                                                        |\n| stateRoot          | 32           | Root hash of the authenticated UTXO set state (an AVL+ tree) after applying the block's transactions. |\n| transactionsRoot   | 32           | Root hash of the Merkle tree of transactions included in the block.                                   |\n| timestamp          | 8            | Block timestamp (in milliseconds since the beginning of the Unix Epoch).                              |\n| nBits              | 8            | Current difficulty target (encoded in a compressed format).                                           |\n| height             | 4            | Block height (distance from the genesis block).                                                       |\n| extensionRoot      | 32           | Root hash of the block's extension section.                                                           |\n| powSolution        | 75-107       | Solution to the Autolykos v2 Proof-of-Work puzzle.                                                    |\n| votes              | 3            | Bytes representing miner votes for changes in system parameters.                                      |\n\nIn specific modes, nodes can calculate certain fields independently:\n\n- **parentId**: Calculated when `status==bootstrap` AND `PoPoWBootstrap == false`.\n- **ADProofsRoot**: Calculated when `status==regular` AND `ADState==false AND BlocksToKeep>0`.\n- **stateRoot**: Calculated when `status==regular` AND `ADState==false AND BlocksToKeep>0`."
    },
    {
      "heading": "Extension Section",
      "level": 2,
      "content": "The Extension section functions as a key-value store capable of holding various data relevant to the block or protocol state.\n\nKeys are consistently 2 bytes long, and the maximum size for a value is 64 bytes. The total size of the Extension section must not exceed 32,768 bytes (previously 16,384, updated post-EIP-38).\n\nCertain key prefixes have predefined meanings:\n*   **Parameters (`0x00` prefix)**: If the first byte of the key is `0x00`, the second byte identifies a specific blockchain parameter (e.g., block size limit, cost per byte). The value associated with this key represents the parameter's value. These are typically included only in blocks at the end of a voting epoch.\n*   **Interlinks (`0x01` prefix)**: Keys starting with `0x01` are used for storing the [NiPoPoW interlinks vector](nipopows.md). The second byte indicates the level `k` of the link. The value contains the actual block ID (32 bytes) representing the link at that level.\n\nOther key prefixes are available for future protocol extensions or application-specific data."
    }
  ],
  "source": "https://github.com/ergoplatform/ergodocs",
  "file_path": "docs/node/modifiers.md",
  "processed_at": "2025-05-11T19:57:07.514633",
  "ai_processed": true
}