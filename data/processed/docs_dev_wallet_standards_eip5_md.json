{
  "id": "docs_dev_wallet_standards_eip5_md",
  "title": "EIP-0005: Contract Template Documentation",
  "summary": "EIP-0005 outlines a standard for serializing contract templates and including metadata to make them reusable across multiple platforms. It aims to provide a way for developers to easily move contract templates between different protocol implementations, applications, and tools. The EIP describes the binary serialization format for contract templates, including fields like name, description, and optional ErgoTree version. It also defines the serialization format for parameters within contract templates. Additionally, the EIP covers the JSON format for contract templates and provides guidance on supporting this EIP in ErgoTree compilers.",
  "qa_pairs": [
    {
      "question": "What is the purpose of EIP-0005?",
      "answer": "EIP-0005 outlines a standard for serializing contract templates and including metadata to make them reusable across multiple platforms."
    },
    {
      "question": "What are the key components of the contract template serialization format defined in EIP-0005?",
      "answer": "EIP-0005 defines the JSON format, parameter serialization format, and conversion to ErgoTree for contract template serialization."
    },
    {
      "question": "What is the motivation behind EIP-0005?",
      "answer": "EIP-0005 aims to provide a way for developers to easily move contract templates between different protocol implementations, applications, and tools."
    },
    {
      "question": "Who is the author of EIP-0005?",
      "answer": "The author of EIP-0005 is aslesarenko."
    },
    {
      "question": "What is the current status of EIP-0005?",
      "answer": "EIP-0005 is currently in the Proposed status."
    }
  ],
  "sections": [
    {
      "heading": "Introduction",
      "level": 0,
      "content": "---\ntags:\n  - EIP\n---"
    },
    {
      "heading": "EIP-0005: Contract Template Documentation",
      "level": 1,
      "content": ""
    },
    {
      "heading": "Overview",
      "level": 2,
      "content": "**Author:** aslesarenko  \n**Status:** Proposed  \n**Created:** 06-Apr-2020  \n**License:** CC0  \n**Forking:** Not Needed"
    },
    {
      "heading": "Table of Contents",
      "level": 2,
      "content": "- [Description](#description)\n- [Background And Motivation](#background-and-motivation)\n- [Example Use Cases](#example-use-cases)\n- [Contract Template Serialization Format](#contract-template-serialization-format)\n- [Parameter Serialization Format](#parameter-serialization-format)\n- [JSON Format](#json-format)\n- [Conversion to ErgoTree](#conversion-to-ergotree)\n- [Notes on Supporting this EIP in ErgoTree Compilers](#notes-on-supporting-this-eip-in-ergotree-compilers)\n\n---"
    },
    {
      "heading": "Description",
      "level": 2,
      "content": "EIP-0005 outlines a standard for serializing contract templates and including metadata to make them reusable across multiple platforms. It aims to provide a way for developers to easily move contract templates between different protocol implementations, applications, and tools."
    },
    {
      "heading": "Background And Motivation",
      "level": 2,
      "content": "Ergo employs a robust language, known as [ErgoTree](https://ergoplatform.org/docs/ErgoTree.pdf), to create guarding propositions that protect UTXO boxes. While ErgoTree's serialization is efficient for storage and transaction validation, it lacks the metadata necessary for broader application use. This EIP aims to extend ErgoTree's capabilities by adding serialization formats for contract templates, including metadata for more versatile applications."
    },
    {
      "heading": "Example Use Cases",
      "level": 2,
      "content": "- ErgoTree compilers can generate contract templates complete with necessary metadata.\n- Contract templates generated by one compiler (e.g., ErgoScala) can be used in environments where specific libraries (e.g., Java jar generated by Scala2.12) are not supported.\n- The contract template becomes a self-contained entity, making it easier to store, transfer, parse, or execute across different platforms and tools."
    },
    {
      "heading": "Contract Template Serialization Format",
      "level": 2,
      "content": "This section provides the binary serialization format for contract templates, optimized for compact storage and wire transfer. Below is a table illustrating the fields and their formats:\n\n| Field Name      | Format            | Example               | Description |\n|-----------------|-------------------|-----------------------|-------------|\n| `TreeVersion`   | `Opt[UByte]`      | 1                     | Optional version of ErgoTree to be used |\n| `NameLength`    | `VLQ(UInt)`       | 18                    | Length of `Name` in bytes |\n| `Name`          | `Bytes`           | \"rewardOutputScript\"  | User-readable name of the contract |\n| `DescLength`    | `VLQ(UInt)`       | 20                    | Length of `Description` in bytes |\n| `Description`   | `Bytes`           | \"holds mining rewards\"| User-readable contract description |\n| ...             | ...               | ...                   | ... |\n\n**Note:** See the original EIP-0005 document for complete field descriptions and further details."
    },
    {
      "heading": "Parameter Serialization Format",
      "level": 2,
      "content": "This section provides the binary serialization format for parameters within contract templates.\n\n| Field Name      | Format            | Example               | Description |\n|-----------------|-------------------|-----------------------|-------------|\n| `NameLength`    | `VLQ(UInt)`       | 7                     | Length of `Name` in bytes |\n| `Name`          | `Bytes`           | \"minerPk\"             | User-readable parameter name |\n| `DescLength`    | `VLQ(UInt)`       | 18                    | Length of `Description` in bytes |\n| `Description`   | `Bytes`           | \"miner's public key\"  | User-readable parameter description |\n| `ConstantIndex` | `VLQ(UInt)`       | 1                     | Index in the ErgoTree.constants array |"
    },
    {
      "heading": "JSON Format",
      "level": 2,
      "content": "Contract templates can also be serialized into JSON format, suitable for applications that require human-readable or editable templates. A sample JSON representation is as follows:\n\n```json\n{\n  \"name\": \"rewardOutputScript\",\n  \"description\": \"holds mining rewards\",\n  ...\n}\n```"
    },
    {
      "heading": "Conversion to ErgoTree",
      "level": 2,
      "content": "This section outlines how to convert a contract template into an ErgoTree structure. The conversion allows for the substitution of new values for the constants in the template, either redefining the default values or providing missing ones."
    },
    {
      "heading": "Notes on Supporting this EIP in ErgoTree Compilers",
      "level": 2,
      "content": "Compilers like ErgoScript and ErgoScala can easily incorporate this EIP by generating templates packaged as either JSON or bytes. Annotations in the source code can also aid the compiler in generating the appropriate metadata and serialization formats.\n\n---\n\nFor complete technical details and field specifications, refer to the original EIP-0005 document."
    }
  ],
  "source": "https://github.com/ergoplatform/ergodocs",
  "file_path": "docs/dev/wallet/standards/eip5.md",
  "processed_at": "2025-05-11T19:41:53.080480",
  "ai_processed": true
}